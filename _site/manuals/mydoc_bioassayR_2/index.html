<!DOCTYPE html>
<head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="">
<meta name="keywords" content=" ">
<title>Getting Started  | Manuals</title>
<link rel="stylesheet" href="/manuals/css/syntax.css">


<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
<!--<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">-->
<link rel="stylesheet" href="/manuals/css/modern-business.css">
<link rel="stylesheet" href="/manuals/css/lavish-bootstrap.css">
<link rel="stylesheet" href="/manuals/css/customstyles.css">
<link rel="stylesheet" href="/manuals/css/theme-blue.css">

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script src="/manuals/js/jquery.navgoco.min.js"></script>


<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/2.0.0/anchor.min.js"></script>
<script src="/manuals/js/toc.js"></script>
<script src="/manuals/js/customscripts.js"></script>

<link rel="shortcut icon" href="/manuals/images/favicon.ico">

<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->

<link rel="alternate" type="application/rss+xml" title="" href="http://idratherbewriting.com/manuals/feed.xml">




 
    <script>
        $(document).ready(function() {
            // Initialize navgoco with default options
            $("#mysidebar").navgoco({
                caretHtml: '',
                accordion: true,
                openClass: 'active', // open
                save: false, // leave false or nav highlighting doesn't work right
                cookie: {
                    name: 'navgoco',
                    expires: false,
                    path: '/'
                },
                slide: {
                    duration: 400,
                    easing: 'swing'
                }
            });

            $("#collapseAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', false);
            });

            $("#expandAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', true);
            });

        });

    </script>
    <script>
        $(function () {
            $('[data-toggle="tooltip"]').tooltip()
        })
    </script>
    

</head>
<body>
<!-- Navigation -->
<nav class="navbar navbar-inverse navbar-fixed-top">
    <div class="container topnavlinks">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="fa fa-home fa-lg navbar-brand" href="/manuals/">&nbsp;<span class="projectTitle"> Data Analysis Tutorials</span></a>
        </div>
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <!-- entries without drop-downs appear here -->
                
                
                
                <li><a href="/manuals/news/">News</a></li>
                
                
                
                <li><a href="/manuals/news/">News</a></li>
                
                
                
                <li><a href="/manuals/news/">News</a></li>
                
                
                
                <li><a href="/manuals/news/">News</a></li>
                
                
                
                <li><a href="/manuals/news/">News</a></li>
                
                
                
                <!-- entries with drop-downs appear here -->
                <!-- conditional logic to control which topnav appears for the audience defined in the configuration file.-->
                
                
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Jekyll Resources<b class="caret"></b></a>
                    <ul class="dropdown-menu">
                        
                        
                        <li><a href="https://github.com/tomjohnson1492/documentation-theme-jekyll" target="_blank">Github Repo</a></li>
                        
                        
                        
                        <li><a href="https://talk.jekyllrb.com" target="_blank">Jekyll Talk</a></li>
                        
                        
                        
                        <li><a href="http://jekyllrb.com/docs/home/" target="_blank">Jekyll documentation</a></li>
                        
                        
                        
                        <li><a href="http://stackoverflow.com/questions/tagged/jekyll" target="_blank">Jekyll on Stack Overflow</a></li>
                        
                        
                        
                        <li><a href="http://idratherbewriting.com/category-jekyll/" target="_blank">Jekyll on my blog</a></li>
                        
                        
                    </ul>
                </li>
                
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Products<b class="caret"></b></a>
                    <ul class="dropdown-menu">
                        
                        
                        <li><a href="/manuals/mydoc_introduction/">Jekyll Documentation Theme</a></li>
                        
                        
                        
                        <li><a href="/manuals/p1_landing_page/">Product 1</a></li>
                        
                        
                        
                        <li><a href="/manuals/p2_landing_page/">Product 2</a></li>
                        
                        
                        
                        <li><a href="/manuals/home/">Manuals</a></li>
                        
                        
                    </ul>
                </li>
                
                
                
			<!-- Send feedback function -->
<script>
function SendLinkByMail(href) {
var subject= "Manuals feedback";
var body = "I have some feedback about the Getting Started page: ";
body += window.location.href;
body += "";
var uri = "mailto:tomjohnson1492@gmail.com?subject=";
uri += encodeURIComponent(subject);
uri += "&body=";
uri += encodeURIComponent(body);
window.location.href = uri;
}
</script>

<li><a href="javascript:(function()%7BSendLinkByMail()%3B%7D)()%3B" target="_blank"><i class="fa fa-envelope-o"></i> Feedback</a></li>

		
                <!--comment out this block if you want to hide search-->
                <li>
                    <!--start search-->
                    <div id="search-demo-container">
                        <input type="text" id="search-input" placeholder="search...">
                        <ul id="results-container"></ul>
                    </div>
                    <script src="/manuals/js/jekyll-search.js" type="text/javascript"></script>
                    <script type="text/javascript">
                            SimpleJekyllSearch.init({
                                searchInput: document.getElementById('search-input'),
                                resultsContainer: document.getElementById('results-container'),
                                dataSource: '/manuals/search.json',
                                searchResultTemplate: '<li><a href="{url}" title="Getting Started">{title}</a></li>',
                    noResultsText: 'No results found.',
                            limit: 10,
                            fuzzy: true,
                    })
                    </script>
                    <!--end search-->
                </li>
            </ul>
        </div>
        </div>
        <!-- /.container -->
</nav>
<!-- Page Content -->
<div class="container">
    <div class="col-lg-12">&nbsp;</div>
    <!-- Content Row -->
    <div class="row">
        <!-- Sidebar Column -->
        <div class="col-md-3">

          














<ul id="mysidebar" class="nav">
    <li class="sidebarTitle"> </li>
    
    
    
        
    
    <li>
        <a href="#">Overview</a>
        <ul>
            
            
            
            <li><a href="/manuals/home/">Introduction</a></li>
            
            
            
            
            
            
            <li><a href="/manuals/manuals/mydoc_classes/">Class teaching</a></li>
            
            
            
            
        </ul>
        
        
    
    <li>
        <a href="#">Introduction to R</a>
        <ul>
            
            
            
            <li><a href="/manuals/manuals/mydoc_Rbasics_1/">1. Overview</a></li>
            
            
            
            
            
            
            <li><a href="/manuals/manuals/mydoc_Rbasics_2/">2. R Package Repositories</a></li>
            
            
            
            
            
            
            <li><a href="/manuals/manuals/mydoc_Rbasics_3/">3. Installation of R and Add-on Packages</a></li>
            
            
            
            
            
            
            <li><a href="/manuals/manuals/mydoc_Rbasics_4/">4. Getting Around</a></li>
            
            
            
            
            
            
            <li><a href="/manuals/manuals/mydoc_Rbasics_5/">5. Basic Syntax</a></li>
            
            
            
            
            
            
            <li><a href="/manuals/manuals/mydoc_Rbasics_6/">6. Data Types</a></li>
            
            
            
            
            
            
            <li><a href="/manuals/manuals/mydoc_Rbasics_7/">7. Data objects</a></li>
            
            
            
            
            
            
            <li><a href="/manuals/manuals/mydoc_Rbasics_8/">8. Graphics example</a></li>
            
            
            
            
            
            
            <li><a href="/manuals/manuals/mydoc_Rbasics_9/">9. Session Info</a></li>
            
            
            
            
        </ul>
        
        
    
    <li>
        <a href="#">ChemmineR</a>
        <ul>
            
            
            
            <li><a href="/manuals/manuals/mydoc_ChemmineR_01/">1. Introduction</a></li>
            
            
            
            
            
            
            <li><a href="/manuals/manuals/mydoc_ChemmineR_02/">2. Getting Started</a></li>
            
            
            
            
            
            
            <li><a href="/manuals/manuals/mydoc_ChemmineR_03/">3. OpenBabel Functions</a></li>
            
            
            
            
            
            
            <li><a href="/manuals/manuals/mydoc_ChemmineR_04/">4. Overview of Classes and Functions</a></li>
            
            
            
            
            
            
            <li><a href="/manuals/manuals/mydoc_ChemmineR_05/">5. Import of Compounds</a></li>
            
            
            
            
            
            
            <li><a href="/manuals/manuals/mydoc_ChemmineR_06/">6. Export of Compounds</a></li>
            
            
            
            
            
            
            <li><a href="/manuals/manuals/mydoc_ChemmineR_07/">7. Format Interconversions</a></li>
            
            
            
            
            
            
            <li><a href="/manuals/manuals/mydoc_ChemmineR_08/">8. Splitting SD Files</a></li>
            
            
            
            
            
            
            <li><a href="/manuals/manuals/mydoc_ChemmineR_09/">9. Streaming Through Large SD Files</a></li>
            
            
            
            
            
            
            <li><a href="/manuals/manuals/mydoc_ChemmineR_10/">10. Storing Compounds in an SQL Database</a></li>
            
            
            
            
            
            
            <li><a href="/manuals/manuals/mydoc_ChemmineR_11/">11. Working with SDF/SDFset Classes</a></li>
            
            
            
            
            
            
            <li><a href="/manuals/manuals/mydoc_ChemmineR_12/">12. Molecular Property Functions (Physicochemical Descriptors)</a></li>
            
            
            
            
            
            
            <li><a href="/manuals/manuals/mydoc_ChemmineR_13/">13. Bond Matrices</a></li>
            
            
            
            
            
            
            <li><a href="/manuals/manuals/mydoc_ChemmineR_14/">14. Charges and Missing Hydrogens</a></li>
            
            
            
            
            
            
            <li><a href="/manuals/manuals/mydoc_ChemmineR_15/">15. Ring Perception and Aromaticity Assignment</a></li>
            
            
            
            
            
            
            <li><a href="/manuals/manuals/mydoc_ChemmineR_16/">16. Rendering Chemical Structure Images</a></li>
            
            
            
            
            
            
            <li><a href="/manuals/manuals/mydoc_ChemmineR_17/">17. Similarity Comparisons and Searching</a></li>
            
            
            
            
            
            
            <li><a href="/manuals/manuals/mydoc_ChemmineR_18/">18. Clustering</a></li>
            
            
            
            
            
            
            <li><a href="/manuals/manuals/mydoc_ChemmineR_19/">19. Searching PubChem</a></li>
            
            
            
            
            
            
            <li><a href="/manuals/manuals/mydoc_ChemmineR_20/">20. ChemMine Tools R Interface</a></li>
            
            
            
            
            
            
            <li><a href="/manuals/manuals/mydoc_ChemmineR_21/">21. Version Information</a></li>
            
            
            
            
            
            
            <li><a href="/manuals/manuals/mydoc_ChemmineR_22/">22. Funding</a></li>
            
            
            
            
            
            
            <li><a href="/manuals/manuals/mydoc_ChemmineR_23/">23. References</a></li>
            
            
            
            
        </ul>
        
        
    
    <li>
        <a href="#">bioassayR</a>
        <ul>
            
            
            
            <li><a href="/manuals/manuals/mydoc_bioassayR_1/">1. Introduction</a></li>
            
            
            
            
            
            
            <li class="active"><a href="/manuals/manuals/mydoc_bioassayR_2/">2. Getting Started</a></li>
            
            
            
            
            
            
            <li><a href="/manuals/manuals/mydoc_bioassayR_3/">3. Examples</a></li>
            
            
            
            
            
            
            <li><a href="/manuals/manuals/mydoc_bioassayR_4/">4. Building PubChem BioAssay Database</a></li>
            
            
            
            
            
            
            <li><a href="/manuals/manuals/mydoc_bioassayR_5/">5. Version Information</a></li>
            
            
            
            
            
            
            <li><a href="/manuals/manuals/mydoc_bioassayR_6/">6. Funding</a></li>
            
            
            
            
            
            
            <li><a href="/manuals/manuals/mydoc_bioassayR_7/">7. References</a></li>
            
            
            
            
        </ul>
        
        
    
    <li>
        <a href="#">systemPipeR</a>
        <ul>
            
            
            
            <li><a href="/manuals/manuals/mydoc_systemPipeR_1/">1. Introduction</a></li>
            
            
            
            
            
            
            <li><a href="/manuals/manuals/mydoc_systemPipeR_2/">2. Getting Started</a></li>
            
            
            
            
            
            
            <li><a href="/manuals/manuals/mydoc_systemPipeR_3/">3. Workflow overview</a></li>
            
            
            
            
            
            
            <li><a href="/manuals/manuals/mydoc_systemPipeR_4/">4. Workflow templates</a></li>
            
            
            
            
            
            
            <li><a href="/manuals/manuals/mydoc_systemPipeR_5/">5. Version information</a></li>
            
            
            
            
            
            
            <li><a href="/manuals/manuals/mydoc_systemPipeR_6/">6. References</a></li>
            
            
            
            
        </ul>
        
        
    
    <li>
        <a href="#">Internal notes</a>
        <ul>
            
            
            
            <li><a href="/manuals/manuals/mydoc_internal_notes/">Administration of site</a></li>
            
            
            
            
        </ul>
        
        
        
        <!-- if you aren't using the accordion, uncomment this block:
           <p class="external">
               <a href="#" id="collapseAll">Collapse All</a> | <a href="#" id="expandAll">Expand All</a>
           </p>
           -->
    </li>
</ul>
</div>

<!-- this highlights the active parent class in the navgoco sidebar. this is critical so that the parent expands when you're viewing a page. This must appear below the sidebar code above. Otherwise, if placed inside customscripts.js, the script runs before the sidebar code runs and the class never gets inserted.-->
<script>$("li.active").parents('li').toggleClass("active");</script>
    <!-- Content Column -->
    <div class="col-md-9">
        <div class="post-header">
   <h1 class="post-title-main">Getting Started</h1>
</div>



<div class="post-content">

   

    
    
<!-- this handles the automatic toc. use ## for subheads to auto-generate the on-page minitoc. if you use html tags, you must supply an ID for the heading element in order for it to appear in the minitoc. -->
<script>
$( document ).ready(function() {
  // Handler for .ready() called.

$('#toc').toc({ minimumHeaders: 0, listType: 'ul', showSpeed: 0, headers: 'h2,h3,h4' });

/* this offset helps account for the space taken up by the floating toolbar. */
$('#toc').on('click', 'a', function() {
  var target = $(this.getAttribute('href'))
    , scroll_target = target.offset().top

  $(window).scrollTop(scroll_target - 10);
  return false
})
  
});
</script>

<div id="toc"></div>

    

    

    

    <a target="_blank" href="https://github.com/tomjohnson1492/documentation-theme-jekyll/blob/gh-pages//manualsmydoc_bioassayR_2.md" class="btn btn-default githubEditButton" role="button"><i class="fa fa-github fa-lg"></i> Edit me</a>
    

    

  <h2 id="installation">Installation</h2>

<p>The R software for running bioassayR can be downloaded from CRAN (<a href="http://cran.at.r-project.org/">http://cran.at.r-project.org/</a>). The <em>bioassayR</em> package can be installed from R using the <em>bioLite</em> install command.</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">source</span><span class="p">(</span><span class="s2">"http://bioconductor.org/biocLite.R"</span><span class="p">)</span><span class="w"> </span><span class="c1"># Sources the biocLite.R installation script
</span><span class="n">biocLite</span><span class="p">(</span><span class="s2">"bioassayR"</span><span class="p">)</span><span class="w"> </span><span class="err">#</span><span class="w"> </span><span class="n">Installs</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">package</span></code></pre></figure>

<h2 id="loading-the-package-and-documentation">Loading the Package and Documentation</h2>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">library</span><span class="p">(</span><span class="n">bioassayR</span><span class="p">)</span><span class="w"> </span><span class="err">#</span><span class="w"> </span><span class="n">Loads</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">package</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">library</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s2">"bioassayR"</span><span class="p">)</span><span class="w"> </span><span class="c1"># Lists all functions and classes 
</span><span class="n">vignette</span><span class="p">(</span><span class="s2">"bioassayR"</span><span class="p">)</span><span class="w"> </span><span class="err">#</span><span class="w"> </span><span class="n">Opens</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">manual</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">R</span></code></pre></figure>

<h2 id="quick-tutorial">Quick Tutorial</h2>

<p>This example walks you through creating a new empty database, adding example small molecule bioactivity data, and performing queries on these data. If you are interested only in querying
a pre-built PubChem BioAssay database, skip to the later section titled “Prebuilt Database Example: Investigate Activity of a Known Drug.”</p>

<p>This example includes real experimental data from an antibiotics discovery experiment. These data are a “confirmatory bioassay” where 57 small molecules were screened against the mevalonate kinase protein from the <em>Streptococcus pneumonia</em> (SP) bacteria. Mevalonate kinase inhibitors are one possible class of antibiotic drugs that may be effective against this infamous bacteria.
These data were published as assay identifier (aid) 1000 in the NCBI PubChem BioAssay database, by Dr. Thomas S. Leyh.</p>

<p>First, create a new database. For purposes of this manual a temporary file is used, but you can replace the <em>tempfile</em> function call with a filename of your choice if you wish to save the resulting database for later.</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">library</span><span class="p">(</span><span class="n">bioassayR</span><span class="p">)</span><span class="w">
</span><span class="n">myDatabaseFilename</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">tempfile</span><span class="p">()</span><span class="w"> 
</span><span class="n">mydb</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">newBioassayDB</span><span class="p">(</span><span class="n">myDatabaseFilename</span><span class="p">,</span><span class="w"> </span><span class="n">indexed</span><span class="o">=</span><span class="nb">F</span><span class="p">)</span></code></pre></figure>

<p>Next, specify the source and version of the data you plan to load. This is a required step, which makes it easier to track the origin of your data later. Feel free to use the current date for a version number, if your data isn’t versioned.</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">addDataSource</span><span class="p">(</span><span class="n">mydb</span><span class="p">,</span><span class="w"> </span><span class="n">description</span><span class="o">=</span><span class="s2">"PubChem BioAssay"</span><span class="p">,</span><span class="w"> </span><span class="n">version</span><span class="o">=</span><span class="s2">"unknown"</span><span class="p">)</span></code></pre></figure>

<p>After adding a data source, create or import a <em>data.frame</em> which contains the activity scores for each of the molecules in your assay. 
This <em>data.frame</em> must contain three columns which includes a cid (unique compound identifier) for each compound, a binary activity score (1=active, 0=inactive, NA=inconclusive), and a numeric activity score.
Consult the <em>bioassay</em> man page for more details on formatting this <em>data.frame</em>. The <em>bioassayR</em> package contains an example activity score data frame that can be accessed as follows:</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">data</span><span class="p">(</span><span class="n">samplebioassay</span><span class="p">)</span><span class="w">
</span><span class="n">samplebioassay</span><span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="m">10</span><span class="p">,]</span><span class="w"> </span><span class="err">#</span><span class="w"> </span><span class="n">print</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">first</span><span class="w"> </span><span class="m">10</span><span class="w"> </span><span class="n">scores</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-txt" data-lang="txt">##         cid activity score
## 1    730195        0     0
## 2  16749973        1    80
## 3  16749974        1    80
## 4  16749975        1    80
## 5  16749976        1    80
## 6  16749977        1    80
## 7  16749978        1    80
## 8  16749979        1    80
## 9  16749980        1    80
## 10 16749981        1    80</code></pre></figure>

<p>All bioactivity data is loaded into the database, or retrieved from the database as an <em>bioassay</em> object which contains details on the assay experimental design, molecular targets, and the activity scores. A bioassay object which incorporates activity scores can be created as follows.
The source id value must exactly match that loaded earlier by <em>addDataSource</em>. The molecular target(s) for the assay are optional, and an unlimited number can be specified for a single assay as a vector passed to the targets option. The target types field should be a vector of equal length, describing the type of each target in the same order.</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">myAssay</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">new</span><span class="p">(</span><span class="s2">"bioassay"</span><span class="p">,</span><span class="n">aid</span><span class="o">=</span><span class="s2">"1000"</span><span class="p">,</span><span class="w"> </span><span class="n">source_id</span><span class="o">=</span><span class="s2">"PubChem BioAssay"</span><span class="p">,</span><span class="w">
    </span><span class="n">assay_type</span><span class="o">=</span><span class="s2">"confirmatory"</span><span class="p">,</span><span class="w"> </span><span class="n">organism</span><span class="o">=</span><span class="s2">"unknown"</span><span class="p">,</span><span class="w"> </span><span class="n">scoring</span><span class="o">=</span><span class="s2">"activity rank"</span><span class="p">,</span><span class="w"> 
    </span><span class="n">targets</span><span class="o">=</span><span class="s2">"116516899"</span><span class="p">,</span><span class="w"> </span><span class="n">target_types</span><span class="o">=</span><span class="s2">"protein"</span><span class="p">,</span><span class="w"> </span><span class="n">scores</span><span class="o">=</span><span class="n">samplebioassay</span><span class="p">)</span><span class="w">
</span><span class="n">myAssay</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-txt" data-lang="txt">## class:		 bioassay 
## aid:		 1000 
## source_id:	 PubChem BioAssay 
## assay_type:	 confirmatory 
## organism:	 unknown 
## scoring:	 activity rank 
## targets:	 116516899 
## target_types:	 protein 
## total scores:	 57</code></pre></figure>

<p>The <em>bioassay</em> object can be loaded into the database with the <em>loadBioassay</em> function. By repeating this step with different data, a large number of distinct assays can be loaded into the database.</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">loadBioassay</span><span class="p">(</span><span class="n">mydb</span><span class="p">,</span><span class="w"> </span><span class="n">myAssay</span><span class="p">)</span></code></pre></figure>

<p>It is reccomended to use NCBI GI numbers as the label for any biomolecule
assay targets, as this is what is used in the pre-built database also
supplied with the package. In some cases it is useful to also store identifier translations,
which contain the corresponding IDs from other biological databases. For example,
in this case the mevalonate kinase target protein GI 116516899 has a corresponding
identifier in the UniProt Database of Q8DR51. This can be stored for future reference as follows.
Any number of translations from any category of choice can be stored in this way. It
can also be used to store annotation data for targets. For example, if you
have sequence level clustering data on your targets you could store them
in category “sequenceClustering” and store the cluster number as the identifier.</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">loadIdMapping</span><span class="p">(</span><span class="n">mydb</span><span class="p">,</span><span class="w"> </span><span class="n">target</span><span class="o">=</span><span class="s2">"116516899"</span><span class="p">,</span><span class="w"> </span><span class="n">category</span><span class="o">=</span><span class="s2">"UniProt"</span><span class="p">,</span><span class="w"> </span><span class="n">identifier</span><span class="o">=</span><span class="s2">"Q8DR51"</span><span class="p">)</span></code></pre></figure>

<p>Wait a minute! We accidentally labeled that assay as organism “unknown” when we know that it’s actually a screen against a protein from <em>Streptococcus pneumonia</em>. 
After loading an assay into the database, you can later retrieve these data with the <em>getAssay</em> function. By combining this with the ability to delete an assay (the <em>dropBioassay</em> function) one can edit the database by (1) pulling an assay out, (2) deleting it from the database, (3) modifying the pulled out object, and (4) reloading the assay. For example, we can update the species annotation for our assay as follows:</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">tempAssay</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">getAssay</span><span class="p">(</span><span class="n">mydb</span><span class="p">,</span><span class="w"> </span><span class="s2">"1000"</span><span class="p">)</span><span class="w"> </span><span class="c1"># get assay from database
</span><span class="n">dropBioassay</span><span class="p">(</span><span class="n">mydb</span><span class="p">,</span><span class="w"> </span><span class="s2">"1000"</span><span class="p">)</span><span class="w"> </span><span class="c1"># delete assay from database
</span><span class="n">organism</span><span class="p">(</span><span class="n">tempAssay</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s2">"Streptococcus pneumonia"</span><span class="w"> </span><span class="c1"># update organism
</span><span class="n">loadBioassay</span><span class="p">(</span><span class="n">mydb</span><span class="p">,</span><span class="w"> </span><span class="n">tempAssay</span><span class="p">)</span></code></pre></figure>

<p>It is recommended to index your database after loading all of your data. This significantly speeds up access to the database, but can also slow down loading of data if indexing is performed before loading.</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">addBioassayIndex</span><span class="p">(</span><span class="n">mydb</span><span class="p">)</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-txt" data-lang="txt">## Creating index: note this may take a long time for a large database</code></pre></figure>

<p>After indexing, you can query the database. Here are some example queries. First view the database summary provided by <em>bioassayR</em>:</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">mydb</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-txt" data-lang="txt">## class:		 BioassayDB 
## assays:		 1 
## sources:	 PubChem BioAssay 
## writeable:	yes</code></pre></figure>

<p>Next, you can query the database for active targets for a given compound by cid. In this case, since only one assay has been loaded only a single target can be found. Experiment with loading more assays for a more interesting result!
When using the pre-built PubChem BioAssay database, these targets are returned
as NCBI Protein identifiers.</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">activeTargets</span><span class="p">(</span><span class="n">mydb</span><span class="p">,</span><span class="w"> </span><span class="m">16749979</span><span class="p">)</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-txt" data-lang="txt">##           fraction_active total_screens
## 116516899               1             1</code></pre></figure>

<p>If target translations were loaded in a previous step, these can be accessed with
the <em>translateTargetId</em> function as follows. This accepts only a single target,
and will return a vector of all corresponding identifiers in the category of choice.
In some cases, you may wish to subset this result to only get a single indentifier
when the database contains a large number for some targets.</p>

<p>Here we request the UniProt identifiers for GI 116516899, as stored earlier with
the <em>loadIdMapping</em> function.</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">translateTargetId</span><span class="p">(</span><span class="n">mydb</span><span class="p">,</span><span class="w"> </span><span class="n">target</span><span class="o">=</span><span class="s2">"116516899"</span><span class="p">,</span><span class="w"> </span><span class="n">category</span><span class="o">=</span><span class="s2">"UniProt"</span><span class="p">)</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-txt" data-lang="txt">## [1] "Q8DR51"</code></pre></figure>

<p>Lastly, disconnecting from the database after analysis reduces the chances of data corruption. If you are using a pre-built database in read only mode (as demonstrated in the Prebuilt Database Example section) you can optionally skip this step, as only writable databases are prone to corruption from failure to disconnect.</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">disconnectBioassayDB</span><span class="p">(</span><span class="n">mydb</span><span class="p">)</span></code></pre></figure>



<div class="tags">
    
</div>

    

</div>

<hr class="shaded"/>

<footer>
            <div class="row">
                <div class="col-lg-12 footer">
               &copy;2016 Thomas Girke. All rights reserved. <br />
<p>Page last updated:</span> Sun Mar  6 18:25:41 2016<br/> Site last generated: Jul 4, 2016 <br />
<p><img src="/manuals/images/company_logo.png" alt="Company logo"/></p>
                </div>
            </div>
</footer>

    </div>
    <!-- /.row -->
</div>
<!-- /.container -->
    </div>
    <script>
    jQuery(function ($) {
        $('.post-content').annotator()
                .annotator('setupPlugins', {tokenUrl: 'http://example.com/api/token'})
    });
    </script>
</body>

</html>